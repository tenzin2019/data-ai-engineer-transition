# RAG Conversational AI Assistant - Environment Configuration
# Based on successful Azure deployment patterns from intelligent-document-analysis

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME="RAG Conversational AI Assistant"
APP_VERSION="0.1.0"
DEBUG=false
ENVIRONMENT="production"

# API Configuration
API_HOST="0.0.0.0"
API_PORT=8000
API_PREFIX="/api/v1"

# =============================================================================
# AZURE APP SERVICE SETTINGS
# =============================================================================
# These are automatically set by Azure App Service
WEBSITES_PORT=8000
WEBSITES_ENABLE_APP_SERVICE_STORAGE=true
WEBSITES_CONTAINER_START_TIME_LIMIT=1800

# Production optimizations
UVICORN_WORKERS=1
UVICORN_HOST="0.0.0.0"
UVICORN_PORT=8000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Azure-optimized database configuration
# For production: Use Azure PostgreSQL or SQLite for simpler deployments
DATABASE_URL="sqlite:///./rag_assistant.db"
DATABASE_ECHO=false

# Azure PostgreSQL (uncomment for production with database)
# DATABASE_URL="postgresql://dbadmin:password@your-server.postgres.database.azure.com:5432/rag_assistant?sslmode=require"

# Redis for caching (optional for Azure)
# REDIS_URL="rediss://your-redis.redis.cache.windows.net:6380/0?ssl_cert_reqs=required"

# =============================================================================
# AI/ML SERVICE CONFIGURATION
# =============================================================================

# OpenAI Configuration
OPENAI_API_KEY="your-openai-api-key-here"
OPENAI_ORGANIZATION="your-org-id"
OPENAI_MODEL_DEFAULT="gpt-4o"
OPENAI_EMBEDDING_MODEL="text-embedding-ada-002"

# Azure OpenAI Configuration
AZURE_OPENAI_ENDPOINT="https://your-resource.openai.azure.com/"
AZURE_OPENAI_API_KEY="your-azure-openai-key"
AZURE_OPENAI_API_VERSION="2024-02-15-preview"
AZURE_OPENAI_DEPLOYMENT_NAME="gpt-4o"
AZURE_OPENAI_EMBEDDING_DEPLOYMENT="text-embedding-ada-002"

# Anthropic Configuration
ANTHROPIC_API_KEY="your-anthropic-api-key"
ANTHROPIC_MODEL_DEFAULT="claude-3-sonnet-20240229"

# Hugging Face Configuration
HUGGINGFACE_API_KEY="your-huggingface-api-key"
HUGGINGFACE_HUB_TOKEN="your-huggingface-token"

# =============================================================================
# VECTOR DATABASE CONFIGURATION
# =============================================================================
# ChromaDB persistence directory (Azure App Service compatible)
CHROMA_PERSIST_DIRECTORY="./chroma_db"

# =============================================================================
# FILE UPLOAD CONFIGURATION (Azure optimized)
# =============================================================================
# File size limits for Azure App Service
MAX_FILE_SIZE_STANDARD=15728640  # 15MB
MAX_FILE_SIZE_LARGE=209715200    # 200MB

# =============================================================================
# MODEL SELECTION STRATEGY (inherited from successful deployment)
# =============================================================================
PRIMARY_MODEL="gpt-4o"           # For complex documents
SECONDARY_MODEL="gpt-4o-mini"    # For standard documents  
BUDGET_MODEL="gpt-3.5-turbo"    # For simple/high-volume tasks

# AI Processing Configuration
MAX_TOKENS=4000
TEMPERATURE=0.3
MAX_DOCUMENT_LENGTH=100000

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
SECRET_KEY="azure-rag-assistant-secret-key-change-in-production"
ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# AZURE STORAGE (Optional)
# =============================================================================
# Uncomment if using Azure Blob Storage for documents
# AZURE_STORAGE_ACCOUNT_NAME="your-storage-account"
# AZURE_STORAGE_ACCOUNT_KEY="your-storage-key"
# AZURE_STORAGE_CONTAINER_NAME="documents"

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL="INFO"

# ChromaDB Configuration (default for development)
CHROMA_PERSIST_DIRECTORY="./chroma_db"
CHROMA_COLLECTION_NAME="rag_documents"

# Pinecone Configuration
PINECONE_API_KEY="your-pinecone-api-key"
PINECONE_ENVIRONMENT="us-west1-gcp-free"
PINECONE_INDEX_NAME="rag-assistant"

# Weaviate Configuration
WEAVIATE_URL="http://localhost:8080"
WEAVIATE_API_KEY="your-weaviate-api-key"
WEAVIATE_INDEX_NAME="Documents"

# Azure AI Search Configuration
AZURE_SEARCH_SERVICE_NAME="your-search-service"
AZURE_SEARCH_API_KEY="your-search-api-key"
AZURE_SEARCH_INDEX_NAME="rag-documents"

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================

# Azure Blob Storage
AZURE_STORAGE_ACCOUNT_NAME="your-storage-account"
AZURE_STORAGE_ACCOUNT_KEY="your-storage-key"
AZURE_STORAGE_CONTAINER_NAME="documents"

# AWS S3
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_S3_BUCKET_NAME="rag-documents"
AWS_REGION="us-east-1"

# Local storage
LOCAL_STORAGE_PATH="./uploads"

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Application Insights
APPLICATIONINSIGHTS_CONNECTION_STRING="your-app-insights-connection-string"

# LangSmith
LANGCHAIN_TRACING_V2=true
LANGCHAIN_ENDPOINT="https://api.smith.langchain.com"
LANGCHAIN_API_KEY="your-langsmith-api-key"
LANGCHAIN_PROJECT="rag-conversational-ai"

# Weights & Biases
WANDB_API_KEY="your-wandb-api-key"
WANDB_PROJECT="rag-conversational-ai"

# Prometheus
PROMETHEUS_GATEWAY_URL="http://localhost:9091"

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Configuration
SECRET_KEY="your-super-secret-jwt-key-here-change-in-production"
ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=30

# API Security
API_KEY="your-api-key"
RATE_LIMIT_PER_MINUTE=60

# CORS Configuration
CORS_ORIGINS="http://localhost:3000,http://localhost:8080,http://localhost:8501"

# =============================================================================
# APPLICATION FEATURES
# =============================================================================

# RAG Configuration
RAG_CHUNK_SIZE=1000
RAG_CHUNK_OVERLAP=200
RAG_TOP_K_RESULTS=5
RAG_CONTEXT_WINDOW=3

# LLM Configuration
LLM_MAX_TOKENS=2000
LLM_TEMPERATURE=0.7
LLM_MODEL_FALLBACK=true

# Document Processing
MAX_FILE_SIZE_MB=200
SUPPORTED_FILE_TYPES="pdf,docx,txt,md,html"
OCR_ENABLED=true

# Conversation Management
CONVERSATION_MEMORY_SIZE=10
CONVERSATION_TIMEOUT_MINUTES=60

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Threading and Concurrency
MAX_WORKERS=4
ASYNC_POOL_SIZE=10

# Caching
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE=1000

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST_SIZE=20

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development flags
DEV_MODE=true
AUTO_RELOAD=true
LOG_LEVEL="INFO"
LOG_FORMAT="%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# Testing
TEST_DATABASE_URL="sqlite:///./test_rag_assistant.db"
TEST_MODE=false

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# Production overrides (uncomment for production)
# DEBUG=false
# LOG_LEVEL="WARNING"
# RATE_LIMIT_REQUESTS_PER_MINUTE=1000
# MAX_WORKERS=8
# CACHE_MAX_SIZE=10000

# Health checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL_SECONDS=30

# Graceful shutdown
GRACEFUL_SHUTDOWN_TIMEOUT=30